!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Clappr"),require("ClapprStats")):"function"==typeof define&&define.amd?define(["Clappr","ClapprStats"],e):"object"==typeof exports?exports.ClapprNerdStats=e(require("Clappr"),require("ClapprStats")):t.ClapprNerdStats=e(t.Clappr,t.ClapprStats)}(this,function(t,e){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=12)}([function(t,e,n){"use strict";var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":i(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";(function(t,n){function r(t,e){return t.set(e[0],e[1]),t}function i(t,e){return t.add(e),t}function o(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function s(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function c(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function u(t,e){return null==t?void 0:t[e]}function l(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function f(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function p(t,e){return function(n){return t(e(n))}}function d(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function v(){this.__data__=Ie?Ie(null):{}}function y(t){return this.has(t)&&delete this.__data__[t]}function b(t){var e=this.__data__;if(Ie){var n=e[t];return n===Mt?void 0:n}return _e.call(e,t)?e[t]:void 0}function _(t){var e=this.__data__;return Ie?void 0!==e[t]:_e.call(e,t)}function g(t,e){return this.__data__[t]=Ie&&void 0===e?Mt:e,this}function m(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function w(){this.__data__=[]}function x(t){var e=this.__data__,n=U(e,t);return!(n<0)&&(n==e.length-1?e.pop():Pe.call(e,n,1),!0)}function j(t){var e=this.__data__,n=U(e,t);return n<0?void 0:e[n][1]}function k(t){return U(this.__data__,t)>-1}function S(t,e){var n=this.__data__,r=U(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function O(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function P(){this.__data__={hash:new h,map:new(Te||m),string:new h}}function E(t){return at(this,t).delete(t)}function C(t){return at(this,t).get(t)}function M(t){return at(this,t).has(t)}function $(t,e){return at(this,t).set(t,e),this}function T(t){this.__data__=new m(t)}function A(){this.__data__=new m}function B(t){return this.__data__.delete(t)}function R(t){return this.__data__.get(t)}function I(t){return this.__data__.has(t)}function z(t,e){var n=this.__data__;if(n instanceof m){var r=n.__data__;if(!Te||r.length<Ct-1)return r.push([t,e]),this;n=this.__data__=new O(r)}return n.set(t,e),this}function F(t,e){var n=Ge(t)||_t(t)?c(t.length,String):[],r=n.length,i=!!r;for(var o in t)!e&&!_e.call(t,o)||i&&("length"==o||ft(o,r))||n.push(o);return n}function N(t,e,n){var r=t[e];_e.call(t,e)&&bt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function U(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function L(t,e){return t&&rt(e,St(e),t)}function W(t,e,n,r,i,a,s){var c;if(r&&(c=a?r(t,i,a,s):r(t)),void 0!==c)return c;if(!jt(t))return t;var u=Ge(t);if(u){if(c=ct(t),!e)return nt(t,c)}else{var f=De(t),p=f==Rt||f==It;if(Ve(t))return H(t,e);if(f==Nt||f==Tt||p&&!a){if(l(t))return a?t:{};if(c=ut(p?{}:t),!e)return it(t,L(c,t))}else{if(!oe[f])return a?t:{};c=lt(t,f,W,e)}}s||(s=new T);var d=s.get(t);if(d)return d;if(s.set(t,c),!u)var h=n?ot(t):St(t);return o(h||t,function(i,o){h&&(o=i,i=t[o]),N(c,o,W(i,e,n,r,o,t,s))}),c}function q(t){return jt(t)?Se(t):{}}function K(t,e,n){var r=e(t);return Ge(t)?r:a(r,n(t))}function D(t){return ge.call(t)}function G(t){return!(!jt(t)||dt(t))&&(wt(t)||l(t)?me:re).test(vt(t))}function V(t){if(!ht(t))return Me(t);var e=[];for(var n in Object(t))_e.call(t,n)&&"constructor"!=n&&e.push(n);return e}function H(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function Y(t){var e=new t.constructor(t.byteLength);return new je(e).set(new je(t)),e}function Z(t,e){var n=e?Y(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function J(t,e,n){return s(e?n(f(t),!0):f(t),r,new t.constructor)}function X(t){var e=new t.constructor(t.source,ne.exec(t));return e.lastIndex=t.lastIndex,e}function Q(t,e,n){return s(e?n(d(t),!0):d(t),i,new t.constructor)}function tt(t){return qe?Object(qe.call(t)):{}}function et(t,e){var n=e?Y(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;N(n,a,void 0===s?t[a]:s)}return n}function it(t,e){return rt(t,Ke(t),e)}function ot(t){return K(t,St,Ke)}function at(t,e){var n=t.__data__;return pt(e)?n["string"==typeof e?"string":"hash"]:n.map}function st(t,e){var n=u(t,e);return G(n)?n:void 0}function ct(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&_e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ut(t){return"function"!=typeof t.constructor||ht(t)?{}:q(ke(t))}function lt(t,e,n,r){var i=t.constructor;switch(e){case Kt:return Y(t);case At:case Bt:return new i(+t);case Dt:return Z(t,r);case Gt:case Vt:case Ht:case Yt:case Zt:case Jt:case Xt:case Qt:case te:return et(t,r);case zt:return J(t,r,n);case Ft:case Wt:return new i(t);case Ut:return X(t);case Lt:return Q(t,r,n);case qt:return tt(t)}}function ft(t,e){return!!(e=null==e?$t:e)&&("number"==typeof t||ie.test(t))&&t>-1&&t%1==0&&t<e}function pt(t){var e=void 0===t?"undefined":Et(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function dt(t){return!!ye&&ye in t}function ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||he)}function vt(t){if(null!=t){try{return be.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function yt(t){return W(t,!0,!0)}function bt(t,e){return t===e||t!==t&&e!==e}function _t(t){return mt(t)&&_e.call(t,"callee")&&(!Oe.call(t,"callee")||ge.call(t)==Tt)}function gt(t){return null!=t&&xt(t.length)&&!wt(t)}function mt(t){return kt(t)&&gt(t)}function wt(t){var e=jt(t)?ge.call(t):"";return e==Rt||e==It}function xt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$t}function jt(t){var e=void 0===t?"undefined":Et(t);return!!t&&("object"==e||"function"==e)}function kt(t){return!!t&&"object"==(void 0===t?"undefined":Et(t))}function St(t){return gt(t)?F(t):V(t)}function Ot(){return[]}function Pt(){return!1}var Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct=200,Mt="__lodash_hash_undefined__",$t=9007199254740991,Tt="[object Arguments]",At="[object Boolean]",Bt="[object Date]",Rt="[object Function]",It="[object GeneratorFunction]",zt="[object Map]",Ft="[object Number]",Nt="[object Object]",Ut="[object RegExp]",Lt="[object Set]",Wt="[object String]",qt="[object Symbol]",Kt="[object ArrayBuffer]",Dt="[object DataView]",Gt="[object Float32Array]",Vt="[object Float64Array]",Ht="[object Int8Array]",Yt="[object Int16Array]",Zt="[object Int32Array]",Jt="[object Uint8Array]",Xt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",te="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,ne=/\w*$/,re=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,oe={};oe[Tt]=oe["[object Array]"]=oe[Kt]=oe[Dt]=oe[At]=oe[Bt]=oe[Gt]=oe[Vt]=oe[Ht]=oe[Yt]=oe[Zt]=oe[zt]=oe[Ft]=oe[Nt]=oe[Ut]=oe[Lt]=oe[Wt]=oe[qt]=oe[Jt]=oe[Xt]=oe[Qt]=oe[te]=!0,oe["[object Error]"]=oe[Rt]=oe["[object WeakMap]"]=!1;var ae="object"==(void 0===t?"undefined":Et(t))&&t&&t.Object===Object&&t,se="object"==("undefined"==typeof self?"undefined":Et(self))&&self&&self.Object===Object&&self,ce=ae||se||Function("return this")(),ue="object"==Et(e)&&e&&!e.nodeType&&e,le=ue&&"object"==Et(n)&&n&&!n.nodeType&&n,fe=le&&le.exports===ue,pe=Array.prototype,de=Function.prototype,he=Object.prototype,ve=ce["__core-js_shared__"],ye=function(){var t=/[^.]+$/.exec(ve&&ve.keys&&ve.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),be=de.toString,_e=he.hasOwnProperty,ge=he.toString,me=RegExp("^"+be.call(_e).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=fe?ce.Buffer:void 0,xe=ce.Symbol,je=ce.Uint8Array,ke=p(Object.getPrototypeOf,Object),Se=Object.create,Oe=he.propertyIsEnumerable,Pe=pe.splice,Ee=Object.getOwnPropertySymbols,Ce=we?we.isBuffer:void 0,Me=p(Object.keys,Object),$e=st(ce,"DataView"),Te=st(ce,"Map"),Ae=st(ce,"Promise"),Be=st(ce,"Set"),Re=st(ce,"WeakMap"),Ie=st(Object,"create"),ze=vt($e),Fe=vt(Te),Ne=vt(Ae),Ue=vt(Be),Le=vt(Re),We=xe?xe.prototype:void 0,qe=We?We.valueOf:void 0;h.prototype.clear=v,h.prototype.delete=y,h.prototype.get=b,h.prototype.has=_,h.prototype.set=g,m.prototype.clear=w,m.prototype.delete=x,m.prototype.get=j,m.prototype.has=k,m.prototype.set=S,O.prototype.clear=P,O.prototype.delete=E,O.prototype.get=C,O.prototype.has=M,O.prototype.set=$,T.prototype.clear=A,T.prototype.delete=B,T.prototype.get=R,T.prototype.has=I,T.prototype.set=z;var Ke=Ee?p(Ee,Object):Ot,De=D;($e&&De(new $e(new ArrayBuffer(1)))!=Dt||Te&&De(new Te)!=zt||Ae&&"[object Promise]"!=De(Ae.resolve())||Be&&De(new Be)!=Lt||Re&&"[object WeakMap]"!=De(new Re))&&(De=function(t){var e=ge.call(t),n=e==Nt?t.constructor:void 0,r=n?vt(n):void 0;if(r)switch(r){case ze:return Dt;case Fe:return zt;case Ne:return"[object Promise]";case Ue:return Lt;case Le:return"[object WeakMap]"}return e});var Ge=Array.isArray,Ve=Ce||Pt;n.exports=yt}).call(e,n(0),n(11)(t))},function(t,e,n){"use strict";(function(e){function n(t,e){return null==t?void 0:t[e]}function r(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function i(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function o(){this.__data__=bt?bt(null):{}}function a(t){return this.has(t)&&delete this.__data__[t]}function s(t){var e=this.__data__;if(bt){var n=e[t];return n===K?void 0:n}return ft.call(e,t)?e[t]:void 0}function c(t){var e=this.__data__;return bt?void 0!==e[t]:ft.call(e,t)}function u(t,e){return this.__data__[t]=bt&&void 0===e?K:e,this}function l(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function f(){this.__data__=[]}function p(t){var e=this.__data__,n=x(e,t);return!(n<0)&&(n==e.length-1?e.pop():vt.call(e,n,1),!0)}function d(t){var e=this.__data__,n=x(e,t);return n<0?void 0:e[n][1]}function h(t){return x(this.__data__,t)>-1}function v(t,e){var n=this.__data__,r=x(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function y(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function b(){this.__data__={hash:new i,map:new(yt||l),string:new i}}function _(t){return P(this,t).delete(t)}function g(t){return P(this,t).get(t)}function m(t){return P(this,t).has(t)}function w(t,e){return P(this,t).set(t,e),this}function x(t,e){for(var n=t.length;n--;)if(R(t[n][0],e))return n;return-1}function j(t,e){e=C(e,t)?[e]:O(e);for(var n=0,r=e.length;null!=t&&n<r;)t=t[T(e[n++])];return n&&n==r?t:void 0}function k(t){return!(!z(t)||$(t))&&(I(t)||r(t)?dt:et).test(A(t))}function S(t){if("string"==typeof t)return t;if(N(t))return gt?gt.call(t):"";var e=t+"";return"0"==e&&1/t==-D?"-0":e}function O(t){return wt(t)?t:mt(t)}function P(t,e){var n=t.__data__;return M(e)?n["string"==typeof e?"string":"hash"]:n.map}function E(t,e){var r=n(t,e);return k(r)?r:void 0}function C(t,e){if(wt(t))return!1;var n=void 0===t?"undefined":W(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!N(t))||(Z.test(t)||!Y.test(t)||null!=e&&t in Object(e))}function M(t){var e=void 0===t?"undefined":W(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function $(t){return!!ut&&ut in t}function T(t){if("string"==typeof t||N(t))return t;var e=t+"";return"0"==e&&1/t==-D?"-0":e}function A(t){if(null!=t){try{return lt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function B(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(q);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new(B.Cache||y),n}function R(t,e){return t===e||t!==t&&e!==e}function I(t){var e=z(t)?pt.call(t):"";return e==G||e==V}function z(t){var e=void 0===t?"undefined":W(t);return!!t&&("object"==e||"function"==e)}function F(t){return!!t&&"object"==(void 0===t?"undefined":W(t))}function N(t){return"symbol"==(void 0===t?"undefined":W(t))||F(t)&&pt.call(t)==H}function U(t){return null==t?"":S(t)}function L(t,e,n){var r=null==t?void 0:j(t,e);return void 0===r?n:r}var W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q="Expected a function",K="__lodash_hash_undefined__",D=1/0,G="[object Function]",V="[object GeneratorFunction]",H="[object Symbol]",Y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Z=/^\w*$/,J=/^\./,X=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Q=/[\\^$.*+?()[\]{}|]/g,tt=/\\(\\)?/g,et=/^\[object .+?Constructor\]$/,nt="object"==(void 0===e?"undefined":W(e))&&e&&e.Object===Object&&e,rt="object"==("undefined"==typeof self?"undefined":W(self))&&self&&self.Object===Object&&self,it=nt||rt||Function("return this")(),ot=Array.prototype,at=Function.prototype,st=Object.prototype,ct=it["__core-js_shared__"],ut=function(){var t=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),lt=at.toString,ft=st.hasOwnProperty,pt=st.toString,dt=RegExp("^"+lt.call(ft).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ht=it.Symbol,vt=ot.splice,yt=E(it,"Map"),bt=E(Object,"create"),_t=ht?ht.prototype:void 0,gt=_t?_t.toString:void 0;i.prototype.clear=o,i.prototype.delete=a,i.prototype.get=s,i.prototype.has=c,i.prototype.set=u,l.prototype.clear=f,l.prototype.delete=p,l.prototype.get=d,l.prototype.has=h,l.prototype.set=v,y.prototype.clear=b,y.prototype.delete=_,y.prototype.get=g,y.prototype.has=m,y.prototype.set=w;var mt=B(function(t){t=U(t);var e=[];return J.test(t)&&e.push(""),t.replace(X,function(t,n,r,i){e.push(r?i.replace(tt,"$1"):n||t)}),e});B.Cache=y;var wt=Array.isArray;t.exports=L}).call(e,n(0))},function(t,e,n){"use strict";var r;!function(i,o,a){function s(t,e,n){if(t.addEventListener)return void t.addEventListener(e,n,!1);t.attachEvent("on"+e,n)}function c(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return w[t.which]?w[t.which]:x[t.which]?x[t.which]:String.fromCharCode(t.which).toLowerCase()}function u(t,e){return t.sort().join(",")===e.sort().join(",")}function l(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}function f(t){if(t.preventDefault)return void t.preventDefault();t.returnValue=!1}function p(t){if(t.stopPropagation)return void t.stopPropagation();t.cancelBubble=!0}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(){if(!m){m={};for(var t in w)t>95&&t<112||w.hasOwnProperty(t)&&(m[w[t]]=t)}return m}function v(t,e,n){return n||(n=h()[t]?"keydown":"keypress"),"keypress"==n&&e.length&&(n="keydown"),n}function y(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus"),t.split("+"))}function b(t,e){var n,r,i,o=[];for(n=y(t),i=0;i<n.length;++i)r=n[i],k[r]&&(r=k[r]),e&&"keypress"!=e&&j[r]&&(r=j[r],o.push("shift")),d(r)&&o.push(r);return e=v(r,o,e),{key:r,modifiers:o,action:e}}function _(t,e){return null!==t&&t!==o&&(t===e||_(t.parentNode,e))}function g(t){function e(t){t=t||{};var e,n=!1;for(e in m)t[e]?n=!0:m[e]=0;n||(j=!1)}function n(t,e,n,r,i,o){var a,s,c=[],l=n.type;if(!y._callbacks[t])return[];for("keyup"==l&&d(t)&&(e=[t]),a=0;a<y._callbacks[t].length;++a)if(s=y._callbacks[t][a],(r||!s.seq||m[s.seq]==s.level)&&l==s.action&&("keypress"==l&&!n.metaKey&&!n.ctrlKey||u(e,s.modifiers))){var f=!r&&s.combo==i,p=r&&s.seq==r&&s.level==o;(f||p)&&y._callbacks[t].splice(a,1),c.push(s)}return c}function r(t,e,n,r){y.stopCallback(e,e.target||e.srcElement,n,r)||!1===t(e,n)&&(f(e),p(e))}function i(t){"number"!=typeof t.which&&(t.which=t.keyCode);var e=c(t);if(e)return"keyup"==t.type&&w===e?void(w=!1):void y.handleKey(e,l(t),t)}function a(){clearTimeout(_),_=setTimeout(e,1e3)}function h(t,n,i,o){function s(n){r(i,n,t),"keyup"!==o&&(w=c(n)),setTimeout(e,10)}m[t]=0;for(var u=0;u<n.length;++u){var l=u+1===n.length,f=l?s:function(e){return function(){j=e,++m[t],a()}}(o||b(n[u+1]).action);v(n[u],f,o,t,u)}}function v(t,e,r,i,o){y._directMap[t+":"+r]=e,t=t.replace(/\s+/g," ");var a,s=t.split(" ");if(s.length>1)return void h(t,s,e,r);a=b(t,r),y._callbacks[a.key]=y._callbacks[a.key]||[],n(a.key,a.modifiers,{type:a.action},i,t,o),y._callbacks[a.key][i?"unshift":"push"]({callback:e,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:t})}var y=this;if(t=t||o,!(y instanceof g))return new g(t);y.target=t,y._callbacks={},y._directMap={};var _,m={},w=!1,x=!1,j=!1;y._handleKey=function(t,i,o){var a,s=n(t,i,o),c={},u=0,l=!1;for(a=0;a<s.length;++a)s[a].seq&&(u=Math.max(u,s[a].level));for(a=0;a<s.length;++a)if(s[a].seq){if(s[a].level!=u)continue;l=!0,c[s[a].seq]=1,r(s[a].callback,o,s[a].combo,s[a].seq)}else l||r(s[a].callback,o,s[a].combo);var f="keypress"==o.type&&x;o.type!=j||d(t)||f||e(c),x=l&&"keydown"==o.type},y._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)v(t[r],e,n)},s(t,"keypress",i),s(t,"keydown",i),s(t,"keyup",i)}if(i){for(var m,w={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},x={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},S=1;S<20;++S)w[111+S]="f"+S;for(S=0;S<=9;++S)w[S+96]=S.toString();g.prototype.bind=function(t,e,n){var r=this;return t=t instanceof Array?t:[t],r._bindMultiple.call(r,t,e,n),r},g.prototype.unbind=function(t,e){var n=this;return n.bind.call(n,t,function(){},e)},g.prototype.trigger=function(t,e){var n=this;return n._directMap[t+":"+e]&&n._directMap[t+":"+e]({},t),n},g.prototype.reset=function(){var t=this;return t._callbacks={},t._directMap={},t},g.prototype.stopCallback=function(t,e){var n=this;return!((" "+e.className+" ").indexOf(" mousetrap ")>-1)&&(!_(e,n.target)&&("INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable))},g.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},g.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(w[e]=t[e]);m=null},g.init=function(){var t=g(o);for(var e in t)"_"!==e.charAt(0)&&(g[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},g.init(),i.Mousetrap=g,void 0!==t&&t.exports&&(t.exports=g),void 0!==(r=function(){return g}.call(e,n,e,t))&&(t.exports=r)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(10),a=new o.Scale({ms:1,sec:1e3,min:6e4,hours:36e5}),s=new o.Scale({"%":1}),c={general:{volume:{scale:s}},timers:{startup:{scale:a},watch:{scale:a},pause:{scale:a},buffering:{scale:a},session:{scale:a},latency:{scale:a}},extra:{buffersize:{scale:a},duration:{scale:a},currentTime:{scale:a},bitrateWeightedMean:{unit:"bps"},bitrateMostUsed:{unit:"bps"},bandwidth:{unit:"bps"},watchedPercentage:{scale:s},bufferingPercentage:{scale:s}}},u=function(){function t(){r(this,t)}return i(t,null,[{key:"format",value:function(t){var e={};return Object.keys(t).forEach(function(n){e[n]={};var r=c[n];Object.keys(t[n]).forEach(function(i){var a=t[n][i];if(r&&r[i]&&"number"==typeof a&&!isNaN(a)){var s=r[i].scale||"SI",c=r[i].unit||"";e[n][i]=o(a,{scale:s,unit:c,decimals:2})}else e[n][i]=a})}),e}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){e=t.exports=n(9)(void 0),e.push([t.i,".clappr-nerd-stats[data-clappr-nerd-stats] .stats-box{position:absolute;display:inline-block;top:2em;left:2em;padding:5px;margin:0;line-height:20px;font-size:11px;box-shadow:0 0 0 1px hsla(0,0%,100%,.15);background:rgba(0,0,0,.8);color:#fff;z-index:1000;overflow:auto;max-height:300px}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box.narrow{width:260px}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box.wide{width:860px}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box ul{display:inline-block;float:left;padding:5px;width:210px}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box ul,li{list-style-type:none}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box li:nth-child(2n){background:hsla(0,0%,100%,.15)}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box li{padding:0 5px;text-align:left}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box li.title{text-align:center;font-weight:700}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box li div{padding-left:5px;margin:0;float:right}.clappr-nerd-stats[data-clappr-nerd-stats] .stats-box a.close-button{position:absolute;right:.3em;top:0;font-size:18px;cursor:pointer}.clappr-nerd-stats[data-clappr-nerd-stats] .icon-show-stats a{z-index:1000;position:absolute;float:right;color:#fff;display:none;cursor:pointer}.clappr-nerd-stats[data-clappr-nerd-stats] .icon-show-stats.top-right a{display:block;top:5px;right:10px}.clappr-nerd-stats[data-clappr-nerd-stats] .icon-show-stats.top-left a{display:block;top:5px;left:10px}.clappr-nerd-stats[data-clappr-nerd-stats] .icon-show-stats.bottom-right a{display:block;right:10px;bottom:5px}.clappr-nerd-stats[data-clappr-nerd-stats] .icon-show-stats.bottom-left a{display:block;bottom:5px;left:10px}",""])},function(t,e){t.exports='<% general = metrics.general %> <% counters = metrics.counters %> <% timers = metrics.timers %> <% extra = metrics.extra %> <div class="icon-show-stats <%= iconPosition %>" data-show-stats-button> <a>&#9432;</a> </div> <div class=stats-box> <a class=close-button data-close-button>&times;</a> <ul> <li class=title><span>General</span></li> <li> Display resolution: <div><span><%= general.displayResolution %></span></div> </li> <li> Volume: <div><span><%= general.volume %></span></div> </li> </ul> <ul> <li class=title><span>Counters</span></li> <li> Plays: <div><span><%= counters.play %></span></div> </li> <li> Pauses: <div><span><%= counters.pause %></span></div> </li> <li> Errors: <div><span><%= counters.error %></span></div> </li> <li> Bufferings: <div><span><%= counters.buffering %></span></div> </li> <li> Decoded frames: <div><span><%= counters.decodedFrames %></span></div> </li> <li> Dropped frames: <div><span><%= counters.droppedFrames %></span></div> </li> <li> Frames per second: <div><span><%= counters.fps %></span></div> </li> <li> Bitrate changes: <div><span><%= counters.changeLevel %></span></div> </li> <li> Seeks: <div><span><%= counters.seek %></span></div> </li> <li> Fullscreen: <div><span><%= counters.fullscreen %></span></div> </li> <li> DVR seeks: <div><span><%= counters.dvrUsage %></span></div> </li> </ul> <ul> <li class=title><span>Timers</span></li> <li> Startup time: <div><span><%= timers.startup %></span></div> </li> <li> Watching time: <div><span><%= timers.watch %></span></div> </li> <li> Pause time: <div><span><%= timers.pause %></span></div> </li> <li> Buffering time: <div><span><%= timers.buffering %></span></div> </li> <li> Session time: <div><span><%= timers.session %></span></div> </li> <li> Latency: <div><span><%= timers.latency %></span></div> </li> </ul> <ul> <li class=title><span>Extra</span></li> <li> Playback: <div><span><%= extra.playbackName %></span></div> </li> <li> Playback type: <div><span><%= extra.playbackType %></span></div> </li> <li> Buffer size: <div><span><%= extra.buffersize %></span></div> </li> <li> Video duration: <div><span><%= extra.duration %></span></div> </li> <li> Current time: <div><span><%= extra.currentTime %></span></div> </li> <li> Bitrate weighted mean: <div><span><%= extra.bitrateWeightedMean %></span></div> </li> <li> Bitrate most used: <div><span><%= extra.bitrateMostUsed %></span></div> </li> <li> % Watched: <div><span><%= extra.watchedPercentage %></span></div> </li> <li> % Buffering: <div><span><%= extra.bufferingPercentage %></span></div> </li> <li> Bandwidth: <div><span><%= extra.bandwidth %></span></div> </li> </ul> </div> '},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";function r(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=i(r);return[n].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([o]).join("\n")}return[n].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){"use strict";var r,i,o;"function"==typeof Symbol&&Symbol.iterator;!function(n,a){i=[],r=a,void 0!==(o="function"==typeof r?r.apply(e,i):r)&&(t.exports=o)}(0,function(){function t(t,e){var n;for(n in e)v(e,n)&&(t[n]=e[n])}function e(e,n){var r,i;for(r=0,i=arguments.length;r<i;++r)(n=arguments[r])&&t(e,n);return e}function n(t,e){return e.length-t.length}function r(t,e){return t.factor-e.factor}function i(t){return t.replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}function o(t,e){var n,r;for(n=0,r=t.length;n<r;++n)e(t[n],n)}function a(t,e){var n;for(n in t)v(t,n)&&e(t[n],n)}function s(t){return null!=t}function c(t,e){for(;_(e);)e=t[e];return e}function u(t,e){if(!e)return Math.round(t);var n=Math.pow(10,e);return Math.round(t*n)/n}function l(t){this._prefixes=t;var e=[],o=[];a(t,function(t,n){e.push(i(n)),o.push({factor:t,prefix:n})});var s=this._lcPrefixes={};a(t,function(e,n){var r=n.toLowerCase();v(t,r)||(s[r]=n)}),o.sort(r),this._list=o,e.sort(n),this._regexp=new RegExp("^\\s*(\\d+(?:\\.\\d+)?)\\s*("+e.join("|")+")\\s*(.*)\\s*?$","i")}function f(t,n){n=e({},m,n);var r=h(t,n),i=r.prefix+n.unit;return u(r.value,n.decimals)+(i?n.separator+i:"")}function p(t,e){var n=d(t,e);return n.value*n.factor}function d(t,n){if(!_(t))throw new TypeError("str must be a string");n=e({},m,n);var r=c(g,n.scale);if(!r)throw new Error("missing scale");var i=r.parse(t,n.strict);if(!i)throw new Error("cannot parse str");return i}function h(t,n){if(0===t)return{value:0,prefix:""};if(!b(t))throw new TypeError("value must be a number");n=e({},m,n);var r=c(g,n.scale);if(!r)throw new Error("missing scale");var i,o=n.prefix;if(s(o)){if(!v(r._prefixes,o))throw new Error("invalid prefix");i=r._prefixes[o]}else{var a=r.findPrefix(t);o=a.prefix,i=a.factor}return t/=i,{prefix:o,value:t}}var v=function(t){return function(e,n){return e&&t.call(e,n)}}(Object.prototype.hasOwnProperty),y=function(t){return function(e){return t.call(e)}}(Object.prototype.toString),b=function(t){return function(e){return e===e&&y(e)===t}}(y(0)),_=function(t){return function(e){return y(e)===t}}(y(""));l.create=function(t,e,n){var r={};return o(t,function(t,i){r[t]=Math.pow(e,i+(n||0))}),new l(r)},l.prototype.findPrefix=function(t){for(var e,n,r=this._list,i=0,o=r.length-1;i!==o;)e=i+o+1>>1,n=r[e].factor,n>t?o=e-1:i=e;return r[i]},l.prototype.parse=function(t,e){var n=t.match(this._regexp);if(!n)return null;var r,i=n[2];if(v(this._prefixes,i))r=this._prefixes[i];else{if(e||(i=i.toLowerCase(),!v(this._lcPrefixes,i)))return null;i=this._lcPrefixes[i],r=this._prefixes[i]}return{factor:r,prefix:i,unit:n[3],value:+n[1]}};var g={binary:l.create(",ki,Mi,Gi,Ti,Pi,Ei,Zi,Yi".split(","),1024),SI:l.create("y,z,a,f,p,n,µ,m,,k,M,G,T,P,E,Z,Y".split(","),1e3,-8)},m={scale:"SI",strict:!1,unit:"",decimals:2,separator:" "};return f.parse=p,p.raw=d,f.raw=h,f.Scale=l,f})},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=n(7),u=n(8),l=r(u),f=n(5),p=r(f),d=n(6),h=r(d),v=n(2),y=r(v),b=n(1),_=r(b),g=n(4),m=n(3),w=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._shortcut=(0,y.default)(t,"options.clapprNerdStats.shortcut",["command+shift+s","ctrl+shift+s"]),n._iconPosition=(0,y.default)(t,"options.clapprNerdStats.iconPosition","top-right"),n.metrics={},n}return a(e,t),s(e,[{key:"name",get:function(){return"clappr-nerd-stats"}},{key:"template",get:function(){return(0,c.template)(h.default)}},{key:"attributes",get:function(){return{"data-clappr-nerd-stats":"",class:"clappr-nerd-stats"}}},{key:"events",get:function(){return{"click [data-show-stats-button]":"showOrHide","click [data-close-button]":"hide"}}},{key:"statsBoxElem",get:function(){return".clappr-nerd-stats[data-clappr-nerd-stats] .stats-box"}},{key:"statsBoxWidthThreshold",get:function(){return 720}},{key:"playerWidth",get:function(){return this.core.playerInfo.computedSize.width}},{key:"playerHeight",get:function(){return this.core.playerInfo.computedSize.height}}]),s(e,[{key:"bindEvents",value:function(){this.listenToOnce(this.core,c.Events.CORE_READY,this.init)}},{key:"init",value:function(){var t=this;this.container=this.core.getCurrentContainer();var e=this.container.getPlugin("clappr_stats");void 0===e?(console.error("clappr-stats not available. Please, include it as a plugin of your Clappr instance.\nFor more info, visit: https://github.com/clappr/clappr-stats."),this.disable()):(m.bind(this._shortcut,function(){return t.showOrHide()}),c.Mediator.on(this.core.options.playerId+":"+c.Events.PLAYER_RESIZE,this.onPlayerResize,this),this.listenTo(e,l.default.REPORT_EVENT,this.updateMetrics),this.updateMetrics(e._metrics),this.render())}},{key:"showOrHide",value:function(t){this.showing?this.hide(t):this.show(t)}},{key:"show",value:function(t){this.core.$el.find(this.statsBoxElem).show(),this.showing=!0,t&&t.stopPropagation()}},{key:"hide",value:function(t){this.core.$el.find(this.statsBoxElem).hide(),this.showing=!1,t&&t.stopPropagation()}},{key:"onPlayerResize",value:function(){this.setStatsBoxSize()}},{key:"addGeneralMetrics",value:function(){this.metrics.general={displayResolution:this.playerWidth+"x"+this.playerHeight,volume:this.container.volume}}},{key:"updateMetrics",value:function(t){this.metrics=(0,_.default)(t),this.addGeneralMetrics();var e=this.core.$el.find(this.statsBoxElem).scrollTop();this.$el.html(this.template({metrics:g.format(this.metrics),iconPosition:this._iconPosition})),this.setStatsBoxSize(),this.core.$el.find(this.statsBoxElem).scrollTop(e),this.showing||this.hide()}},{key:"setStatsBoxSize",value:function(){this.playerWidth>=this.statsBoxWidthThreshold?(this.$el.find(this.statsBoxElem).addClass("wide"),this.$el.find(this.statsBoxElem).removeClass("narrow")):(this.$el.find(this.statsBoxElem).removeClass("wide"),this.$el.find(this.statsBoxElem).addClass("narrow"))}},{key:"render",value:function(){var t=c.Styler.getStyleFor(p.default,{baseUrl:this.options.baseUrl});return this.core.$el.append(t),this.core.$el.append(this.$el),this.hide(),this}}]),e}(c.UICorePlugin);e.default=w,t.exports=e.default}])});